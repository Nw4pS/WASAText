openapi: '3.0.3'
info:
  title: WASAText
  version: '0.1'
components:
  schemas:
    user:
      title: user
      description: the user
      type: object
      properties:
        username:
          description: the username of the user
          type: string
          example: Mario
        profilePicture:
          description: the path of the profile picture
          type: string
          example: /home/Mario/Pictures/img.png
        conversations:
          description: list of conversation that the user can access
          type: array
          example: [conversation1,conversation2,...,conversationN,]

    conversation:
      description: a single active conversation (2 users or a group)
      type: object
      properties:
        name:
          description: name of the conversation
          type: string
          example: "Luigi"
        conversationPicture:
          description:
            picture that represent the conversation, if the conversation 
            is between two users, it'll be the other user's profilePicture,
            if the conversation is a group, it'll be an image chosen by a
            participant of the group
          type: string
          example: /home/Mario/Pictures/img.png
        latestMessageInfos:
          description: informations on the latest messages (date, time, preview)
          properties:
            date&Time:
              description: date and time of when the latest message was sent
              type: string
              example: 11/09/2001, 08:46
            preview:
              description: preview of the text or an icon for the conversation
              type: string
              example: good evening professor, how...
            
                



            


            





paths:
#inizio parte loginAPI
  /session:
    post:
        tags: ["login"]
        summary: Logs in the user
        description:
          If the user does not exist, it will be created,
          and an identifier is returned.
          If the user exists, the user identifier is returned.
        operationId: doLogin
        requestBody:
          description: User details
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                    example: Maria
                    pattern: 'Ë†.*?$'
                    minLength: 3
                    maxLength: 16
          required: true
        responses:
          '201':
            description: User log-in action successful
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    identifier:
                    # change here if you decide to use an integer
                    # or any other type of identifier
                      type: string
                      example: "abcdef012345"
#fine parte loginAPI
